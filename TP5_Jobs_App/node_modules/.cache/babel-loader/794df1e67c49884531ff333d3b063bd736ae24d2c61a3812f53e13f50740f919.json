{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"home-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_PostList = _resolveComponent(\"PostList\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_PostList, {\n    posts: $data.json_posts,\n    onDeletePost: $options.deletePost\n  }, null, 8 /* PROPS */, [\"posts\", \"onDeletePost\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createVNode","_component_PostList","posts","$data","json_posts","onDeletePost","$options","deletePost"],"sources":["/workspaces/Mini_Projects_Js/TP5_Jobs_App/src/views/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <PostList :posts=\"json_posts\" @delete-post=\"deletePost\"></PostList>\n  </div>\n</template>\n\n<script>\nimport PostList from \"@/components/PostList.vue\";\nimport Data from \"@/db.json\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    PostList\n  },\n  data() {\n    return {\n      json_posts: []\n    };\n  },\n  mounted() {\n    this.json_posts = Data; // Charge les données depuis db.json\n  },\n  methods: {\n    deletePost(postId) {\n      // Supprime le post de la liste\n      this.json_posts = this.json_posts.filter(post => post.id !== postId);\n\n      // Met à jour le fichier db.json (optionnel, nécessite une API ou un système de persistance)\n      this.updateDbJson();\n    },\n    updateDbJson() {\n      // Si tu utilises une API, envoie une requête pour mettre à jour db.json\n      // Exemple avec fetch :\n      fetch('/api/updateDb', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.json_posts)\n      })\n        .then(response => response.json())\n        .then(data => {\n          console.log(\"db.json mis à jour :\", data);\n        })\n        .catch(error => {\n          console.error(\"Erreur lors de la mise à jour de db.json :\", error);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.home-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.home-container h1 {\n  text-align: center;\n  color: #333;\n  margin-bottom: 20px;\n}\n</style>"],"mappings":";;EACO,SAAM;AAAgB;;;uBAA3BA,mBAAA,CAEM,OAFNC,UAEM,GADJC,YAAA,CAAmEC,mBAAA;IAAxDC,KAAK,EAAEC,KAAA,CAAAC,UAAU;IAAGC,YAAW,EAAEC,QAAA,CAAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}