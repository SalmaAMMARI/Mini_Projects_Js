{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport PostList from \"@/components/PostList.vue\";\nimport Data from \"@/db.json\";\nexport default {\n  name: \"HomePage\",\n  components: {\n    PostList: PostList\n  },\n  data: function data() {\n    return {\n      json_posts: []\n    };\n  },\n  mounted: function mounted() {\n    this.json_posts = Data; // Charge les données depuis db.json\n  },\n  methods: {\n    deletePost: function deletePost(postId) {\n      // Supprime le post de la liste\n      this.json_posts = this.json_posts.filter(function (post) {\n        return post.id !== postId;\n      });\n\n      // Met à jour le fichier db.json (optionnel, nécessite une API ou un système de persistance)\n      this.updateDbJson();\n    },\n    updateDbJson: function updateDbJson() {\n      // Si tu utilises une API, envoie une requête pour mettre à jour db.json\n      // Exemple avec fetch :\n      fetch('/api/updateDb', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.json_posts)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"db.json mis à jour :\", data);\n      })[\"catch\"](function (error) {\n        console.error(\"Erreur lors de la mise à jour de db.json :\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["PostList","Data","name","components","data","json_posts","mounted","methods","deletePost","postId","filter","post","id","updateDbJson","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","error"],"sources":["/workspaces/Mini_Projects_Js/TP5_Jobs_App/src/views/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <PostList :posts=\"json_posts\" @delete-post=\"deletePost\"></PostList>\n  </div>\n</template>\n\n<script>\nimport PostList from \"@/components/PostList.vue\";\nimport Data from \"@/db.json\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    PostList\n  },\n  data() {\n    return {\n      json_posts: []\n    };\n  },\n  mounted() {\n    this.json_posts = Data; // Charge les données depuis db.json\n  },\n  methods: {\n    deletePost(postId) {\n      // Supprime le post de la liste\n      this.json_posts = this.json_posts.filter(post => post.id !== postId);\n\n      // Met à jour le fichier db.json (optionnel, nécessite une API ou un système de persistance)\n      this.updateDbJson();\n    },\n    updateDbJson() {\n      // Si tu utilises une API, envoie une requête pour mettre à jour db.json\n      // Exemple avec fetch :\n      fetch('/api/updateDb', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.json_posts)\n      })\n        .then(response => response.json())\n        .then(data => {\n          console.log(\"db.json mis à jour :\", data);\n        })\n        .catch(error => {\n          console.error(\"Erreur lors de la mise à jour de db.json :\", error);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.home-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.home-container h1 {\n  text-align: center;\n  color: #333;\n  margin-bottom: 20px;\n}\n</style>"],"mappings":";;;;;;AAOA,OAAOA,QAAO,MAAO,2BAA2B;AAChD,OAAOC,IAAG,MAAO,WAAW;AAE5B,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVH,QAAO,EAAPA;EACF,CAAC;EACDI,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,UAAS,GAAIJ,IAAI,EAAE;EAC1B,CAAC;EACDM,OAAO,EAAE;IACPC,UAAU,WAAVA,UAAUA,CAACC,MAAM,EAAE;MACjB;MACA,IAAI,CAACJ,UAAS,GAAI,IAAI,CAACA,UAAU,CAACK,MAAM,CAAC,UAAAC,IAAG;QAAA,OAAKA,IAAI,CAACC,EAAC,KAAMH,MAAM;MAAA,EAAC;;MAEpE;MACA,IAAI,CAACI,YAAY,CAAC,CAAC;IACrB,CAAC;IACDA,YAAY,WAAZA,YAAYA,CAAA,EAAG;MACb;MACA;MACAC,KAAK,CAAC,eAAe,EAAE;QACrBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACd,UAAU;MACtC,CAAC,EACEe,IAAI,CAAC,UAAAC,QAAO;QAAA,OAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,GAChCF,IAAI,CAAC,UAAAhB,IAAG,EAAK;QACZmB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEpB,IAAI,CAAC;MAC3C,CAAC,UACK,CAAC,UAAAqB,KAAI,EAAK;QACdF,OAAO,CAACE,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MACpE,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}