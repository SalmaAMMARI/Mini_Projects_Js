{"ast":null,"code":"import _regeneratorRuntime from \"/workspaces/Mini_Projects_Js/Forum_App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/workspaces/Mini_Projects_Js/Forum_App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { getFirestore, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\nexport default {\n  name: 'signUp',\n  data: function data() {\n    return {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: ''\n    };\n  },\n  methods: {\n    signUp: function signUp() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var auth, db, userCredential, user, avatarUrl;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              auth = getAuth();\n              db = getFirestore();\n              _context.prev = 2;\n              _context.next = 5;\n              return createUserWithEmailAndPassword(auth, _this.email, _this.password);\n            case 5:\n              userCredential = _context.sent;\n              user = userCredential.user; // Generate random profile picture using Avatar API\n              _context.next = 9;\n              return _this.generateAvatar(_this.firstName, _this.lastName);\n            case 9:\n              avatarUrl = _context.sent;\n              _context.next = 12;\n              return updateProfile(user, {\n                displayName: \"\".concat(_this.firstName, \" \").concat(_this.lastName),\n                photoURL: avatarUrl\n              });\n            case 12:\n              _context.next = 14;\n              return setDoc(doc(db, 'users', user.uid), {\n                firstName: _this.firstName,\n                lastName: _this.lastName,\n                email: _this.email,\n                profilePhoto: avatarUrl,\n                type: 'member',\n                // Set default user type\n                createdAt: serverTimestamp() // Use server timestamp\n              });\n            case 14:\n              // Redirect to the forum after successful sign up\n              _this.$router.push('/forum');\n              _context.next = 20;\n              break;\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](2);\n              alert('Oops, something went wrong. Please try again: ' + _context.t0.message);\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 17]]);\n      }))();\n    },\n    generateAvatar: function generateAvatar(firstName, lastName) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              return _context2.abrupt(\"return\", \"https://ui-avatars.com/api/?name=\".concat(encodeURIComponent(firstName), \"+\").concat(encodeURIComponent(lastName), \"&background=random&color=fff&size=128\"));\n            case 4:\n              _context2.prev = 4;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(\"Error generating avatar: \", _context2.t0);\n              // Fallback to empty avatar\n              return _context2.abrupt(\"return\", '');\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 4]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["getAuth","createUserWithEmailAndPassword","updateProfile","getFirestore","doc","setDoc","serverTimestamp","name","data","firstName","lastName","email","password","methods","signUp","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","auth","db","userCredential","user","avatarUrl","wrap","_callee$","_context","prev","next","sent","generateAvatar","displayName","concat","photoURL","uid","profilePhoto","type","createdAt","$router","push","t0","alert","message","stop","_callee2","_callee2$","_context2","abrupt","encodeURIComponent","console","error"],"sources":["/workspaces/Mini_Projects_Js/Forum_App/src/views/SignUp.vue"],"sourcesContent":["<template>\r\n  <div class=\"auth-container\">\r\n    <div class=\"auth-card\">\r\n      <h3>Let's Create Your Account</h3>\r\n      <div class=\"form-group\">\r\n        <input type=\"text\" placeholder=\"First Name\" v-model=\"firstName\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input type=\"text\" placeholder=\"Last Name\" v-model=\"lastName\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input type=\"email\" placeholder=\"Email\" v-model=\"email\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input type=\"password\" placeholder=\"Password\" v-model=\"password\" />\r\n      </div>\r\n      <button @click=\"signUp\">Sign Up</button>\r\n      <p>Already have an account? <router-link to=\"/login\" class=\"auth-link\">Log In</router-link></p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { getFirestore, doc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\n\r\nexport default {\r\n  name: 'signUp',\r\n  data() {\r\n    return {\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n    };\r\n  },\r\n  methods: {\r\n    async signUp() {\r\n      const auth = getAuth();\r\n      const db = getFirestore();\r\n\r\n      try {\r\n        // Create user with email and password\r\n        const userCredential = await createUserWithEmailAndPassword(auth, this.email, this.password);\r\n        const user = userCredential.user;\r\n\r\n        // Generate random profile picture using Avatar API\r\n        const avatarUrl = await this.generateAvatar(this.firstName, this.lastName);\r\n\r\n        // Update user's displayName and profile photo in Firebase Authentication\r\n        await updateProfile(user, {\r\n          displayName: `${this.firstName} ${this.lastName}`,\r\n          photoURL: avatarUrl\r\n        });\r\n\r\n        // Save additional user data in Firestore\r\n        await setDoc(doc(db, 'users', user.uid), {\r\n          firstName: this.firstName,\r\n          lastName: this.lastName,\r\n          email: this.email,\r\n          profilePhoto: avatarUrl,\r\n          type: 'member', // Set default user type\r\n          createdAt: serverTimestamp() // Use server timestamp\r\n        });\r\n\r\n        // Redirect to the forum after successful sign up\r\n        this.$router.push('/forum');\r\n      } catch (err) {\r\n        alert('Oops, something went wrong. Please try again: ' + err.message);\r\n      }\r\n    },\r\n\r\n    async generateAvatar(firstName, lastName) {\r\n      try {\r\n        // Use the direct URL pattern instead of axios call\r\n        return `https://ui-avatars.com/api/?name=${encodeURIComponent(firstName)}+${encodeURIComponent(lastName)}&background=random&color=fff&size=128`;\r\n      } catch (err) {\r\n        console.error(\"Error generating avatar: \", err);\r\n        // Fallback to empty avatar\r\n        return '';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n <style scoped>\r\n.auth-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n  font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;\r\n  padding: 20px;\r\n}\r\n\r\n.auth-card {\r\n  background: white;\r\n  padding: 3rem 2.5rem;\r\n  border-radius: 16px;\r\n  box-shadow: \r\n    0 15px 35px rgba(50, 50, 93, 0.1),\r\n    0 5px 15px rgba(0, 0, 0, 0.07);\r\n  width: 100%;\r\n  max-width: 420px;\r\n  text-align: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.auth-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: \r\n    0 18px 40px rgba(50, 50, 93, 0.15),\r\n    0 8px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.auth-card::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 6px;\r\n  background: linear-gradient(90deg, #3498db 0%, #2ecc71 100%);\r\n}\r\n\r\n.auth-card h3 {\r\n  font-size: 1.8rem;\r\n  margin-bottom: 2rem;\r\n  color: #2c3e50;\r\n  font-weight: 600;\r\n  letter-spacing: -0.5px;\r\n}\r\n\r\n.auth-card input {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  margin-bottom: 1.25rem;\r\n  border: 2px solid #e6e9f0;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  background-color: #f8f9fc;\r\n}\r\n\r\n.auth-card input:focus {\r\n  outline: none;\r\n  border-color: #3498db;\r\n  background-color: white;\r\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);\r\n}\r\n\r\n.auth-card input::placeholder {\r\n  color: #a7a9c0;\r\n}\r\n\r\n.auth-card button {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  background: linear-gradient(to right, #3498db, #2ecc71);\r\n  color: white;\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  margin-top: 0.5rem;\r\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11);\r\n}\r\n\r\n.auth-card button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 7px 14px rgba(50, 50, 93, 0.2);\r\n  opacity: 0.9;\r\n}\r\n\r\n.auth-card button:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.auth-card p {\r\n  margin-top: 1.5rem;\r\n  color: #7f8c8d;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.auth-link {\r\n  color: #3498db;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  position: relative;\r\n  display: inline-block;\r\n  text-decoration: none;\r\n}\r\n\r\n.auth-link::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -2px;\r\n  left: 0;\r\n  width: 0;\r\n  height: 2px;\r\n  background: #3498db;\r\n  transition: width 0.2s ease;\r\n}\r\n\r\n.auth-link:hover {\r\n  color: #2980b9;\r\n  text-decoration: none;\r\n}\r\n\r\n.auth-link:hover::after {\r\n  width: 100%;\r\n}\r\n\r\n/* Form Group for Better Spacing */\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n  text-align: left;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  color: #2c3e50;\r\n  font-weight: 500;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n/* Responsive Adjustments */\r\n@media (max-width: 480px) {\r\n  .auth-card {\r\n    padding: 2rem 1.5rem;\r\n  }\r\n  \r\n  .auth-card h3 {\r\n    font-size: 1.5rem;\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  \r\n  .auth-card input {\r\n    padding: 0.9rem;\r\n  }\r\n}\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}