{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"auth-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"auth-card\"\n};\nvar _hoisted_3 = {\n  key: 0,\n  \"class\": \"auth-error\"\n};\nvar _hoisted_4 = {\n  \"class\": \"auth-form-group\"\n};\nvar _hoisted_5 = {\n  \"class\": \"auth-form-group\"\n};\nvar _hoisted_6 = {\n  \"class\": \"auth-form-group\"\n};\nvar _hoisted_7 = [\"disabled\"];\nvar _hoisted_8 = {\n  key: 0\n};\nvar _hoisted_9 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", {\n    \"class\": \"auth-title\"\n  }, \"Create New Discussion\", -1 /* HOISTED */)), $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[4] || (_cache[4] = _createElementVNode(\"i\", {\n    \"class\": \"fas fa-exclamation-circle\"\n  }, null, -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.error), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_4, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    \"for\": \"title\"\n  }, \"Discussion Title\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"title\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.title = $event;\n    }),\n    type: \"text\",\n    \"class\": \"auth-input\",\n    placeholder: \"Enter discussion title\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.title]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    \"for\": \"content\"\n  }, \"Discussion Content\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"content\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.content = $event;\n    }),\n    \"class\": \"auth-input auth-textarea\",\n    placeholder: \"Write your discussion here...\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.content]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    \"for\": \"category\"\n  }, \"Category\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"category\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.category = $event;\n    }),\n    \"class\": \"auth-input\"\n  }, _cache[7] || (_cache[7] = [_createStaticVNode(\"<option value=\\\"General\\\" data-v-369f6668>General</option><option value=\\\"Tech\\\" data-v-369f6668>Tech</option><option value=\\\"Science\\\" data-v-369f6668>Science</option><option value=\\\"Gaming\\\" data-v-369f6668>Gaming</option><option value=\\\"Cooking\\\" data-v-369f6668>Cooking</option><option value=\\\"Travel\\\" data-v-369f6668>Travel</option><option value=\\\"Health\\\" data-v-369f6668>Health</option><option value=\\\"Education\\\" data-v-369f6668>Education</option><option value=\\\"Art\\\" data-v-369f6668>Art</option><option value=\\\"Music\\\" data-v-369f6668>Music</option><option value=\\\"Sports\\\" data-v-369f6668>Sports</option><option value=\\\"Movies\\\" data-v-369f6668>Movies</option><option value=\\\"Books\\\" data-v-369f6668>Books</option><option value=\\\"Fashion\\\" data-v-369f6668>Fashion</option><option value=\\\"Lifestyle\\\" data-v-369f6668>Lifestyle</option>\", 15)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.category]])]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = function () {\n      return $setup.createDiscussion && $setup.createDiscussion.apply($setup, arguments);\n    }),\n    disabled: $setup.loading,\n    \"class\": \"auth-button\"\n  }, [!$setup.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"Create Discussion\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-spinner fa-spin\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Creating...\")])))], 8 /* PROPS */, _hoisted_7), _createVNode(_component_router_link, {\n    to: \"/forum\",\n    \"class\": \"auth-link\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[10] || (_cache[10] = [_createElementVNode(\"i\", {\n        \"class\": \"fas fa-arrow-left\"\n      }, null, -1 /* HOISTED */), _createTextVNode(\" Back to Forum \")]);\n    }),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$setup","error","_hoisted_3","_createTextVNode","_toDisplayString","_createCommentVNode","_hoisted_4","id","_cache","$event","title","type","placeholder","required","_hoisted_5","content","_hoisted_6","category","_createStaticVNode","onClick","createDiscussion","apply","arguments","disabled","loading","_hoisted_8","_hoisted_9","_hoisted_7","_createVNode","_component_router_link","to","_withCtx","_"],"sources":["/workspaces/Mini_Projects_Js/Forum_App/src/components/NewDiscussionForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"auth-container\">\r\n    <div class=\"auth-card\">\r\n      <h2 class=\"auth-title\">Create New Discussion</h2>\r\n      \r\n      <div v-if=\"error\" class=\"auth-error\">\r\n        <i class=\"fas fa-exclamation-circle\"></i> {{ error }}\r\n      </div>\r\n      \r\n      <div class=\"auth-form-group\">\r\n        <label for=\"title\">Discussion Title</label>\r\n        <input\r\n          id=\"title\"\r\n          v-model=\"title\"\r\n          type=\"text\"\r\n          class=\"auth-input\"\r\n          placeholder=\"Enter discussion title\"\r\n          required\r\n        >\r\n      </div>\r\n      \r\n      <div class=\"auth-form-group\">\r\n        <label for=\"content\">Discussion Content</label>\r\n        <textarea\r\n          id=\"content\"\r\n          v-model=\"content\"\r\n          class=\"auth-input auth-textarea\"\r\n          placeholder=\"Write your discussion here...\"\r\n          required\r\n        ></textarea>\r\n      </div>\r\n      \r\n      <div class=\"auth-form-group\">\r\n        <label for=\"category\">Category</label>\r\n        <select\r\n          id=\"category\"\r\n          v-model=\"category\"\r\n          class=\"auth-input\"\r\n        >\r\n          <option value=\"General\">General</option>\r\n          <option value=\"Tech\">Tech</option>\r\n          <option value=\"Science\">Science</option>\r\n          <option value=\"Gaming\">Gaming</option>\r\n          <option value=\"Cooking\">Cooking</option>\r\n          <option value=\"Travel\">Travel</option>\r\n          <option value=\"Health\">Health</option>\r\n          <option value=\"Education\">Education</option>\r\n          <option value=\"Art\">Art</option>\r\n          <option value=\"Music\">Music</option>\r\n          <option value=\"Sports\">Sports</option>\r\n          <option value=\"Movies\">Movies</option>\r\n          <option value=\"Books\">Books</option>\r\n          <option value=\"Fashion\">Fashion</option>\r\n          <option value=\"Lifestyle\">Lifestyle</option>\r\n        </select>\r\n      </div>\r\n      \r\n      <button\r\n        @click=\"createDiscussion\"\r\n        :disabled=\"loading\"\r\n        class=\"auth-button\"\r\n      >\r\n        <span v-if=\"!loading\">Create Discussion</span>\r\n        <span v-else><i class=\"fas fa-spinner fa-spin\"></i> Creating...</span>\r\n      </button>\r\n      \r\n      <router-link to=\"/forum\" class=\"auth-link\">\r\n        <i class=\"fas fa-arrow-left\"></i> Back to Forum\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport {initializeApp} from 'firebase/app';\r\nimport { addDoc, collection, serverTimestamp,getFirestore } from 'firebase/firestore';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { useRouter } from 'vue-router';\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD6Ls27tC0PCig7KSVBBrAwYdJYukNPRQk\",\r\n  authDomain: \"projectspd-c4560.firebaseapp.com\",\r\n  projectId: \"projectspd-c4560\",\r\n  storageBucket: \"projectspd-c4560.appspot.com\",\r\n  messagingSenderId: \"161091067585\",\r\n  appId: \"1:161091067585:web:7f9b054cc176805801fe40\"\r\n}\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Initialize Firebase services\r\nconst db = getFirestore(app);\r\n\r\nexport default {\r\n  name: 'NewDiscussionForm',\r\n  setup() {\r\n    const title = ref('');\r\n    const content = ref('');\r\n    const category = ref('General');\r\n    const loading = ref(false);\r\n    const error = ref(null);\r\n    const router = useRouter();\r\n    const auth = getAuth();\r\n\r\n    const createDiscussion = async () => {\r\n      try {\r\n        // Reset error\r\n        error.value = null;\r\n        \r\n        // Validate inputs\r\n        if (!title.value.trim() || !content.value.trim()) {\r\n          error.value = 'Please fill in all fields';\r\n          return;\r\n        }\r\n\r\n        // Check if user is logged in\r\n        const user = auth.currentUser;\r\n        if (!user) {\r\n          error.value = 'You must be logged in to create a discussion';\r\n          return;\r\n        }\r\n\r\n        loading.value = true;\r\n\r\n        // Add new discussion to Firestore\r\n        await addDoc(collection(db, 'discussions'), {\r\n          title: title.value,\r\n          content: content.value,\r\n          authorId: user.uid,\r\n          authorName: user.displayName || 'Anonymous',\r\n          createdAt: serverTimestamp(),\r\n          category: category.value,\r\n          upvotes: 0,\r\n          replies: 0\r\n        });\r\n\r\n        // Redirect to forum after successful creation\r\n        router.push('/forum');\r\n      } catch (err) {\r\n        console.error('Error creating discussion:', err);\r\n        error.value = 'Failed to create discussion. Please try again.';\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    return {\r\n      title,\r\n      content,\r\n      category,\r\n      loading,\r\n      error,\r\n      createDiscussion\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.auth-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n  padding: 20px;\r\n}\r\n\r\n.auth-card {\r\n  background: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n  padding: 2rem;\r\n  width: 100%;\r\n  max-width: 500px;\r\n}\r\n\r\n.auth-title {\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 1.5rem;\r\n  font-size: 1.8rem;\r\n}\r\n\r\n.auth-form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.auth-form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  color: #2c3e50;\r\n  font-weight: 500;\r\n}\r\n\r\n.auth-input {\r\n  width: 100%;\r\n  padding: 12px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.auth-input:focus {\r\n  outline: none;\r\n  border-color: #3498db;\r\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);\r\n}\r\n\r\n.auth-textarea {\r\n  min-height: 150px;\r\n  resize: vertical;\r\n}\r\n\r\n.auth-button:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\r\n  background: linear-gradient(135deg, #2980b9, #27ae60);\r\n}\r\n.auth-button {\r\n  width: 100%;\r\n  padding: 12px;\r\n  background: linear-gradient(135deg, #3498db, #2ecc71);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.auth-button:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.auth-button:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.auth-link {\r\n  display: inline-block;\r\n  margin-top: 1.5rem;\r\n  color: #3498db;\r\n  text-decoration: none;\r\n  font-size: 0.9rem;\r\n  transition: color 0.3s ease;\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.auth-link:hover {\r\n  color: #2980b9;\r\n  text-decoration: underline;\r\n}\r\n\r\n.auth-error {\r\n  background-color: #fdecea;\r\n  color: #e74c3c;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  margin-bottom: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.fa-spinner {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .auth-card {\r\n    padding: 1.5rem;\r\n  }\r\n  \r\n  .auth-title {\r\n    font-size: 1.5rem;\r\n  }\r\n}\r\n</style>"],"mappings":";;EACO,SAAM;AAAgB;;EACpB,SAAM;AAAW;;EAF1BA,GAAA;EAKwB,SAAM;;;EAInB,SAAM;AAAiB;;EAYvB,SAAM;AAAiB;;EAWvB,SAAM;AAAiB;iBAhClC;;EAAAA,GAAA;AAAA;;EAAAA,GAAA;AAAA;;;uBACEC,mBAAA,CAqEM,OArENC,UAqEM,GApEJC,mBAAA,CAmEM,OAnENC,UAmEM,G,4BAlEJD,mBAAA,CAAiD;IAA7C,SAAM;EAAY,GAAC,uBAAqB,sBAEjCE,MAAA,CAAAC,KAAK,I,cAAhBL,mBAAA,CAEM,OAFNM,UAEM,G,0BADJJ,mBAAA,CAAyC;IAAtC,SAAM;EAA2B,6BAN5CK,gBAAA,CAMiD,GAAC,GAAAC,gBAAA,CAAGJ,MAAA,CAAAC,KAAK,iB,KAN1DI,mBAAA,gBASMP,mBAAA,CAUM,OAVNQ,UAUM,G,0BATJR,mBAAA,CAA2C;IAApC,OAAI;EAAO,GAAC,kBAAgB,sB,gBACnCA,mBAAA,CAOC;IANCS,EAAE,EAAC,OAAO;IAZpB,uBAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAamBT,MAAA,CAAAU,KAAK,GAAAD,MAAA;IAAA;IACdE,IAAI,EAAC,MAAM;IACX,SAAM,YAAY;IAClBC,WAAW,EAAC,wBAAwB;IACpCC,QAAQ,EAAR;iDAJSb,MAAA,CAAAU,KAAK,E,KAQlBZ,mBAAA,CASM,OATNgB,UASM,G,0BARJhB,mBAAA,CAA+C;IAAxC,OAAI;EAAS,GAAC,oBAAkB,sB,gBACvCA,mBAAA,CAMY;IALVS,EAAE,EAAC,SAAS;IAxBtB,uBAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAyBmBT,MAAA,CAAAe,OAAO,GAAAN,MAAA;IAAA;IAChB,SAAM,0BAA0B;IAChCG,WAAW,EAAC,+BAA+B;IAC3CC,QAAQ,EAAR;iDAHSb,MAAA,CAAAe,OAAO,E,KAOpBjB,mBAAA,CAuBM,OAvBNkB,UAuBM,G,0BAtBJlB,mBAAA,CAAsC;IAA/B,OAAI;EAAU,GAAC,UAAQ,sB,gBAC9BA,mBAAA,CAoBS;IAnBPS,EAAE,EAAC,UAAU;IAnCvB,uBAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAoCmBT,MAAA,CAAAiB,QAAQ,GAAAR,MAAA;IAAA;IACjB,SAAM;gCArChBS,kBAAA,u1B,2CAoCmBlB,MAAA,CAAAiB,QAAQ,E,KAqBrBnB,mBAAA,CAOS;IANNqB,OAAK,EAAAX,MAAA,QAAAA,MAAA;MAAA,OAAER,MAAA,CAAAoB,gBAAA,IAAApB,MAAA,CAAAoB,gBAAA,CAAAC,KAAA,CAAArB,MAAA,EAAAsB,SAAA,CAAgB;IAAA;IACvBC,QAAQ,EAAEvB,MAAA,CAAAwB,OAAO;IAClB,SAAM;OAEOxB,MAAA,CAAAwB,OAAO,I,cAApB5B,mBAAA,CAA8C,QA9DtD6B,UAAA,EA8D8B,mBAAiB,M,cACvC7B,mBAAA,CAAsE,QA/D9E8B,UAAA,EAAAlB,MAAA,QAAAA,MAAA,OA+DqBV,mBAAA,CAAsC;IAAnC,SAAM;EAAwB,4BA/DtDK,gBAAA,CA+D2D,cAAY,E,qBA/DvEwB,UAAA,GAkEMC,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC,QAAQ;IAAC,SAAM;;IAlErC,WAAAC,QAAA,CAmEQ;MAAA,OAAiCvB,MAAA,SAAAA,MAAA,QAAjCV,mBAAA,CAAiC;QAA9B,SAAM;MAAmB,4BAnEpCK,gBAAA,CAmEyC,iBACnC,E;;IApEN6B,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}