{"ast":null,"code":"import _regeneratorRuntime from \"/workspaces/Mini_Projects_Js/ChatAPP/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/workspaces/Mini_Projects_Js/ChatAPP/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { getFirestore, doc, updateDoc } from \"firebase/firestore\";\nexport default {\n  name: \"LoginPage\",\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var auth, userCredential, userId, db;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              auth = getAuth();\n              _context.next = 4;\n              return signInWithEmailAndPassword(auth, _this.email, _this.password);\n            case 4:\n              userCredential = _context.sent;\n              userId = userCredential.user.uid; // Update the user's isOnline status to true\n              db = getFirestore();\n              _context.next = 9;\n              return updateDoc(doc(db, 'users', userId), {\n                isOnline: true\n              });\n            case 9:\n              _this.$router.push(\"/forum/\".concat(userId));\n              _context.next = 16;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Login error:\", _context.t0);\n              alert(\"Login failed: \" + _context.t0.message);\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 12]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["getAuth","signInWithEmailAndPassword","getFirestore","doc","updateDoc","name","data","email","password","methods","login","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","auth","userCredential","userId","db","wrap","_callee$","_context","prev","next","sent","user","uid","isOnline","$router","push","concat","t0","console","error","alert","message","stop"],"sources":["/workspaces/Mini_Projects_Js/ChatAPP/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <h1 class=\"app-title\">Welcome to our ChatAPP</h1>\n    <div class=\"login-form\">\n      <input \n        type=\"email\" \n        placeholder=\"Email\" \n        v-model=\"email\"\n        class=\"input-field\">\n      <input \n        type=\"password\" \n        placeholder=\"Enter your password\" \n        v-model=\"password\"\n        class=\"input-field\">\n      <button @click=\"login\" class=\"login-button\">Log in</button>\n      <div class=\"auth-links\">\n        <p class=\"no-account\">Don't have an account?</p>\n        <router-link to=\"/signup\" class=\"signup-link\">Sign Up</router-link>\n        <router-link to=\"/forgot\" class=\"forgot-link\">Forgot password?</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { getFirestore, doc, updateDoc } from \"firebase/firestore\";\n\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const auth = getAuth();\n        const userCredential = await signInWithEmailAndPassword(auth, this.email, this.password);\n        const userId = userCredential.user.uid;\n        \n        // Update the user's isOnline status to true\n        const db = getFirestore();\n        await updateDoc(doc(db, 'users', userId), {\n          isOnline: true\n        });\n        \n        this.$router.push(`/forum/${userId}`);\n      } catch (error) {\n        console.error(\"Login error:\", error);\n        alert(\"Login failed: \" + error.message);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  background-color: #f7f8fa;\n  font-family: 'Helvetica Neue', Arial, sans-serif;\n}\n\n.app-title {\n  font-size: 28px;\n  color: #333;\n  margin-bottom: 32px;\n  font-weight: 500;\n}\n\n.login-form {\n  background-color: white;\n  padding: 40px;\n  border-radius: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);\n  width: 100%;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n}\n\n.input-field {\n  padding: 14px 16px;\n  margin-bottom: 16px;\n  border: 1px solid #e1e4e8;\n  border-radius: 6px;\n  font-size: 16px;\n  transition: border-color 0.2s ease;\n}\n\n.input-field:focus {\n  border-color: #4a6cf7;\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.1);\n}\n\n.login-button {\n  padding: 14px 20px;\n  background-color: #4a6cf7;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n  margin-top: 8px;\n}\n\n.login-button:hover {\n  background-color: #3a5cf5;\n}\n\n.auth-links {\n  margin-top: 24px;\n  text-align: center;\n}\n\n.no-account {\n  color: #666;\n  margin-bottom: 8px;\n}\n\n.signup-link, .forgot-link {\n  display: block;\n  color: #4a6cf7;\n  text-decoration: none;\n  margin: 8px 0;\n  font-weight: 500;\n  transition: color 0.2s ease;\n}\n\n.signup-link:hover, .forgot-link:hover {\n  color: #3a5cf5;\n  text-decoration: underline;\n}\n</style>"],"mappings":";;;AAyBA,SAASA,OAAO,EAAEC,0BAAyB,QAAS,eAAe;AACnE,SAASC,YAAY,EAAEC,GAAG,EAAEC,SAAQ,QAAS,oBAAoB;AAEjE,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACDC,KAAK,WAALA,KAAKA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA,EAAAC,cAAA,EAAAC,MAAA,EAAAC,EAAA;QAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAEJP,IAAG,GAAIhB,OAAO,CAAC,CAAC;cAAAsB,QAAA,CAAAE,IAAA;cAAA,OACOvB,0BAA0B,CAACe,IAAI,EAAEL,KAAI,CAACJ,KAAK,EAAEI,KAAI,CAACH,QAAQ,CAAC;YAAA;cAAlFS,cAAa,GAAAK,QAAA,CAAAG,IAAA;cACbP,MAAK,GAAID,cAAc,CAACS,IAAI,CAACC,GAAG,EAEtC;cACMR,EAAC,GAAIjB,YAAY,CAAC,CAAC;cAAAoB,QAAA,CAAAE,IAAA;cAAA,OACnBpB,SAAS,CAACD,GAAG,CAACgB,EAAE,EAAE,OAAO,EAAED,MAAM,CAAC,EAAE;gBACxCU,QAAQ,EAAE;cACZ,CAAC,CAAC;YAAA;cAEFjB,KAAI,CAACkB,OAAO,CAACC,IAAI,WAAAC,MAAA,CAAWb,MAAM,CAAE,CAAC;cAAAI,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;cAErCW,OAAO,CAACC,KAAK,CAAC,cAAc,EAAAZ,QAAA,CAAAU,EAAO,CAAC;cACpCG,KAAK,CAAC,gBAAe,GAAIb,QAAA,CAAAU,EAAA,CAAMI,OAAO,CAAC;YAAA;YAAA;cAAA,OAAAd,QAAA,CAAAe,IAAA;UAAA;QAAA,GAAAtB,OAAA;MAAA;IAE3C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}